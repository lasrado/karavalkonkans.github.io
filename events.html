<!DOCTYPE HTML>

<html>
	<head>
		<title>Karaval Konkans Australia</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		
	</head>
	<body class="homepage is-preload">
		<div id="page-wrapper">

			<!-- Header -->
				<section id="header">

					<div id="menubar"></div>
					<script>
						fetch('./header.html')
							.then(res => res.text())
							.then(html => {
								document.getElementById('menubar').innerHTML = html;
							})
					</script>

					<!-- Banner -->
						<section id="banner">
							<header>
								<h2>ಕಾರ್ಯಿಂ</h2>
								<h2>Events</h2>
								<p>Get to know all the events which are part of Karaval Konkans Australia</p>
							</header>
						</section>

					

				</section>

			<!-- Main -->
				<!-- Main -->
			<section id="main">
				
				<!-- Content -->
				
							<div id="tabs" class="centered-container">
								<button class="tab-button active" data-tab="upcoming">Upcoming Events</button>
								<button class="tab-button" data-tab="past">Past Events</button>
							  </div>
							  
							  <div id="events-upcoming" class="tab-content"></div>
							  <div id="events-past" class="tab-content" style="display:none;"></div>
						

				</div>
			</section>

			<!-- Footer -->
			<script src="assets/js/events.js"></script>
			<div id="footer"></div>
			<script>
				fetch('./footer.html')
					.then(res => res.text())
					.then(html => {
						document.getElementById('footer').innerHTML = html;
					})
					.catch(err => console.error('Failed to load footer:', err));

					fetchFooterEvents();
			  </script>
				

		</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.dropotron.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			

	</body>
	<script>


// Fetch events and initialize
fetch("https://kkaapi.netlify.app/.netlify/functions/fetch-events")
  .then(res => res.json())
  .then(data => {
    renderEvents(data.data);
    setupTabs();
  })
  .catch(() => {
    document.getElementById("events-upcoming").innerHTML = "<p>Failed to load events.</p>";
  });



	</script>
</html>